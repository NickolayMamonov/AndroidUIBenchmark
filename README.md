# Android UI Benchmark Project

Проект для сравнения производительности и сложности разработки различных подходов к созданию пользовательского интерфейса в Android.

## Обзор

Этот проект предоставляет средства для объективного сравнения трех основных подходов к разработке UI в Android:

1. **Классический XML-подход** (модуль `app-xml`)
2. **Jetpack Compose** (модуль `app-compose`)
3. **BDUI (Backend-Driven UI)** (модуль `app-bdui`)

Для каждого подхода реализовано одно и то же приложение с идентичной функциональностью, что позволяет напрямую сравнивать их производительность и сложность кода.

## Метрики сравнения

Проект включает автоматические бенчмарки для измерения следующих метрик:

* **Время инициализации UI** - время от запуска приложения до первого отображения UI
* **Использование памяти** - объем занимаемой памяти при разных операциях
* **Время реакции на изменение данных** - скорость обновления UI при получении новых данных
* **Сложность кода** - объективные метрики сложности реализации (LOC, цикломатическая сложность)
* **Производительность при прокрутке списков** - плавность и отзывчивость при скроллинге
* **Производительность при сложных анимациях** - измерение FPS и времени выполнения анимаций

## Структура проекта

* `app-xml/` - реализация UI с использованием традиционного XML-подхода
* `app-compose/` - реализация UI с использованием Jetpack Compose
* `app-bdui/` - реализация UI с использованием подхода Backend-Driven UI
* `benchmarks/` - модуль с автоматическими тестами для измерения метрик
* `common-models/` - общие модели данных, используемые во всех реализациях
* `backend/` - простой бэкенд для предоставления данных (для XML и Compose)
* `backend-bdui/` - бэкенд с BDUI-специфичной логикой

## Начало работы

### Требования

* Android Studio Flamingo (2023.2.1) или новее
* JDK 17
* Android SDK 33+
* Устройство или эмулятор с Android 8.0+ (API 26+)

### Сборка и запуск

1. Клонируйте репозиторий
   ```
   git clone https://github.com/yourusername/AndroidUIBenchmark.git
   ```

2. Откройте проект в Android Studio

3. Соберите и установите все версии приложения:
   ```
   ./gradlew installDebug
   ```

4. Для запуска бенчмарков:
   ```
   ./gradlew benchmarks:connectedAndroidTest
   ```

## Проведение бенчмарков

Подробная информация о запуске и интерпретации результатов бенчмарков доступна в [README модуля benchmarks](benchmarks/README.md).

## Архитектура приложений

Все три реализации используют одинаковую архитектуру MVVM для обеспечения объективного сравнения:

* **ViewModel** - отвечает за бизнес-логику и подготовку данных 
* **Repository** - абстракция источника данных
* **UI Layer** - различается для каждой реализации, но обеспечивает одинаковый пользовательский опыт

### Особенности реализаций

#### XML (app-xml)

* Использует View, Fragment и классические компоненты Android UI
* Применяет DataBinding для связывания данных
* Использует RecyclerView для отображения списков

#### Jetpack Compose (app-compose)

* Полностью декларативный UI
* Использует LazyColumn для отображения списков
* Применяет State и StateFlow для управления состоянием

#### Backend-Driven UI (app-bdui)

* UI структура определяется на стороне сервера
* Клиент интерпретирует JSON-спецификации компонентов
* Поддерживает динамическое обновление без релиза нового APK

## Примечания

* Все реализации используют одинаковый бэкенд и набор данных для обеспечения объективности
* Для всех реализаций используется одинаковый дизайн для минимизации различий
* Метрики автоматически собираются через инструментальные тесты

## Внесение вклада

Если вы хотите внести свой вклад в проект:

1. Форкните репозиторий
2. Создайте ветку с вашими изменениями
3. Отправьте pull request с описанием внесенных изменений

## Лицензия

Этот проект лицензирован под [MIT License](LICENSE).
